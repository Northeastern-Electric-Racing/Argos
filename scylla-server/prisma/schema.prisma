generator client {
    provider = "cargo prisma"
}

datasource db {
    provider = "postgresql"
    url      = env("SOURCE_DATABASE_URL")
}

model run {
    id           Int      @id @unique @default(autoincrement())
    locationName String?
    latitude     Float?
    longitude    Float?
    radius       Float?
    driverName   String?
    notes        String
    data         data[]
    time         DateTime @db.Timestamptz()
}

model data {
    id           String   @default(uuid())
    values       Float[]
    dataTypeName String
    dataType     dataType @relation(fields: [dataTypeName], references: [name])
    time         DateTime @db.Timestamptz()
    runId        Int
    run          run      @relation(fields: [runId], references: [id])

    @@unique([id, time])
}

model dataType {
    name     String @id @unique
    unit     String
    data     data[]
    nodeName String
}
